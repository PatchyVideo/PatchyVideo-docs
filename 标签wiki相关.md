# 标签wiki
标签wiki的作用是
1. 为编辑人员确定标签标准
2. 作为视频标签编辑推荐的依据，方便编辑人员
3. 为用户提供标签定义，方便检索

标签wiki内支持展示图片。

标签wiki分为主要标签wiki和次要标签wiki。 \
主要标签wiki展示视频大类，如“音乐”，“游戏”等。 \
其余标签wiki为次要标签wiki。

哪些为主要标签wiki由编辑人工确定。

同一个标签由一个唯一的tagid确定，一个tagid对应一个标签wiki，一个标签wiki页可以对应一个标签或者一个标签列表（下称标签列表wiki）。

标签列表wiki均为次要标签wiki。

标签wiki和标签列表wiki支持多语言。

标签wiki内使用wiki语法定义该标签的如下人工规则：
1. 该标签的父标签，如“东方Arrange”的父标签是“音乐”
2. 该标签的关联标签，如“内嵌”关联“已翻译”等
3. 该标签的子标签，如“游戏”的子标签包括“东方STG”等
4. 人物标签的相关CP组合，如“帕秋莉”的组合包括“双七（帕秋莉x爱丽丝）”等

标签wiki内会根据标签列表wiki自动生成关联标签列表，如
1. “帕秋莉”的标签wiki会展示“东方红魔乡出现人物”相关标签列表

标签列表wiki的内容是多语言的，但是列表内的标签无论语言是一致的。

标签列表wiki列出一组标签，如
1. “全部东方游戏整数作品”
2. “东方红魔乡出现人物”

标签列表wiki列出标签时可以对列出的标签分类，如 \
“全部东方旧作音乐”列表内可以根据不同旧作作品列出音乐

标签列表wiki列出标签时可以对每个列出项目做出说明，如 \
“东方红魔乡出现人物”可以说明每个人物的出场stage

标签列表wiki列出标签时可以对每个列出项目提供关联标签，如 \
“东方红魔乡出现人物”可以展示每个人物对应的音乐标签

# 在视频标签编辑页面利用标签wiki
视频标签编辑页面应保证同时展示以下组件：
1. 视频播放器，编辑可以边看视频边添加标签
2. 已有标签，按照类别分别展示（或者用颜色高亮）
3. 添加标签输入框，可以按照类别出现多个输入框
4. 推荐标签框
5. 标签wiki页面

### 标签wiki页面
视频标签编辑页面同时展示两个标签wiki页面，每个页面能灵活前进和后退到之前页面。 \
第一个页面的作用为展示主要标签wiki。第二个页面的作用为展示次要标签wiki。 \
每个标签wiki页面上方展示最近查看的该类标签wiki历史，该历史只在当前页面有效，方便用户切换不同标签wiki。切换到的标签wiki应保留原有页面的滚动条进度。 

用户通过如下3个方式添加标签：
1. 直接在标签添加框输入标签
2. 通过点击推荐推荐标签框内的标签添加标签
3. 通过点击两个标签wiki页面内的标签添加标签

展示的标签wiki内所有标签均有一个额外按钮，点击该按钮不添加标签而是查看该标签的标签wiki。

用户点击标签wiki页面内的标签，会立即添加这个标签，但是根据标签的性质标签wiki框会有如下变化：
1. 用户在主要标签wiki页面点击添加了次要标签，则次要标签wiki页面展示该标签的wiki。
2. 用户在主要标签wiki页面点击添加了主要标签，则主要标签wiki页面展示该标签的wiki。
3. 用户在次要标签wiki页面点击添加了主要标签，则主要标签wiki页面展示该标签的wiki。
4. 用户在次要标签wiki页面点击添加了次要标签，则次要标签wiki页面展示该标签的wiki。

### 推荐标签框
推荐标签框的所有标签均为系统自动生成提供。

推荐标签框会展示3类标签（列表）
1. 强烈推荐标签
2. 作者标签
3. 关联标签

满足一下任何一个条件的标签为“强烈推荐标签”
1. 已添加的标签的父标签，且没有被添加
2. （制定中）

满足一下任何一个条件的标签为“关联标签”
1. （制定中）


# 作者标签
